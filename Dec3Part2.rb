MAP = [
  "..#...##...###.........#..#..#.",
  "#.###........#..##.#......#...#",
  "#.#.###..#.#..#.#............#.",
  ".##............#......#...#.#..",
  "..#..#.....##..##..##..........",
  "...#...........###.#.##........",
  "....#.#...#..#..##............#",
  "....#....##...##..##........#..",
  ".#..#..#....#...#..##.....##...",
  ".#.###..#......####........##..",
  "..#...###....#......#.....##.##",
  "..#...#.......#......#..##....#",
  "#...##....#.#..#.......#....#..",
  ".#......#..#...........#....##.",
  ".##.#......#.#.#.....##........",
  ".....#.................#.#..#.#",
  "....#..#........##......#..#.#.",
  "..#...#..##.......#..##...#..#.",
  "..#.......#.............#.#....",
  ".#.................#.........#.",
  "..#..#.#.#.#............##.#..#",
  ".#.#.##.#.....#.....#..#......#",
  "..#.#..#.#..........##........#",
  ".........#...#.....#.#...#####.",
  "##..#.....##.##........#...##..",
  ".#.....#....##.#..#....##...##.",
  ".##.....#.#....#.#.....#......#",
  ".....#..#.##.....#.#....#.#..##",
  "#......##..##....##...###..#...",
  ".......#..#...........#......#.",
  "#...#......#........#..#.......",
  "##..#.....##.....#...#...#....#",
  ".###..##..#.#........#..#.#....",
  "#.#...#...#......##........#.#.",
  "......#....#.#........##...#..#",
  ".#.....#..#.#.....#......##....",
  ".....#.....#.#.#....###.....#..",
  "#.......##.#......#.#.#....###.",
  ".......#..#..#...#.#.##........",
  ".#......##..#.........###..#...",
  "....#..##.......##.###...###...",
  ".##............#..#.##.....#.##",
  "..##.#.......##....#.......##.#",
  "#..###............#.#...#...#.#",
  "...##.#.#.#..#.##........#.#...",
  ".#.....#...##.#..###..##.##...#",
  "..............#.#.#.........#..",
  ".....#...........#.#...#....#..",
  ".....#...##.##.#....#.###..#...",
  "#..###.........#......#.#.#....",
  ".....#..#...##...###.#....#....",
  "#..........#.#.#....#..#......#",
  "###...................#......#.",
  "........####......#.#..........",
  ".......#.....#...#.......#...#.",
  ".....#.....................#...",
  "...#.#...#...#...........#.....",
  "..#.........#...#....###..#....",
  ".....#.#..##......##........##.",
  "..#.............#............#.",
  ".#....##.......#..#............",
  ".#............#.#..#.##....#...",
  ".####...##.#....#.....#...#....",
  "##..#....#.#.#...........#..#.#",
  "...#..#...........#...#..#....#",
  ".....##.....#..#...#.........#.",
  "...##........#....##........#..",
  ".##.#...#...#..#.....#....##.#.",
  "#.#...#.#.#.#.#..#....#....#...",
  "#..#.#...#..#........#....#.#..",
  "....#.#.....#......##...#....#.",
  ".###.##...#....##.#...###..#..#",
  "###..#...##..#......#.........#",
  "..#.#......##.......#.....#...#",
  "..#...#........#.........#.#...",
  "#....#..#.........###.#......##",
  "...#..#....#...#.......##.#.#..",
  "....#.......#....###...##.#....",
  "..#.....#.#.....###..#####....#",
  "##......#....#.....##..#..#...#",
  "#...........#..#..#....#....#..",
  ".#...#.##.#.#.#....#......#..#.",
  ".......#.#....#....#...#.#..#..",
  "..#.#..#.##..##...##..#..#.....",
  "...##.##.................#.#...",
  ".....#...#......##.#....#.....#",
  "......#..##.#..#.#.........#...",
  ".............##.#......#.......",
  "..#.#.....#...#.#.....#..#.....",
  ".........#..#.#......#..#......",
  "#..#.#.##..........#.##......##",
  "......#.......#.....#..#.#...#.",
  ".#....#....#.#.....#.......#...",
  "#..#..##..................#....",
  "............#...........##.#...",
  "####...#..##.#....#.##..#......",
  "#...#...#.....#.#...#.#........",
  ".......##.........#.....#.....#",
  ".....#...........##......#.####",
  ".##....#.#.##......###.#.##....",
  "........#.####.......#.#...#...",
  ".#.#...##.#.#.#.........##.....",
  "....#............###.##....#...",
  "...##........##.#...#....#..###",
  "..#.#.........#....##.#........",
  "..#..##..#...##..#.##...#.....#",
  ".#......#..#..#.........#......",
  "..#........##.#......#.....#...",
  ".##.......#....#.#......#......",
  "#........#....#.####...#.#.....",
  "##......#.............#....###.",
  "..#....####.#.#.#.#...##......#",
  "#.#.#.....#...#.......#...##...",
  "........#...#....#..#......#.#.",
  "#..#...#.#.##.....#.#....#....#",
  "#...#....#......#.........##.##",
  "..##.#..##............#........",
  "#.........####.........#.......",
  "#.##.........#..##....#.#.#.#..",
  ".###......##..#.#.....#.#...##.",
  "...#.........#.#...##.##....#..",
  "#..#......#....##..#.#...#...##",
  "...#.......#.#.#.....#..##...#.",
  "....................###........",
  "#...........###......#.#...##.#",
  ".................#.#...###....#",
  "...#..###..#.##...#..#....##...",
  "###..#..#.#...#.....#.#.......#",
  ".........#..#.#.....#.........#",
  ".##..#.........#.#.....##......",
  ".....#..........#.#.##....#....",
  "........#.##.....#...##...#....",
  "#.#.#...#......##....#.###.....",
  ".#.##.....##.....#....#.##.#.##",
  ".#...#.....##.#.##....#.....#.#",
  "...#.....#........#............",
  "##...####..#....#..##...#......",
  "#.......#...#.#...#........#..#",
  "......#.....#....#..#..#.#.....",
  "..............##.....#.##....##",
  ".#..##.........###..#..........",
  "......#......#............#..#.",
  "#.....###...###..........#.....",
  "...###...........#....##..#....",
  ".....................#...#.##..",
  "###....#.#....#...#....#.#..##.",
  "..#.............#.#....#..#.#..",
  ".......#..###....#...#...#...#.",
  ".##..#....##..............##...",
  "...#...#..#..#.##.#....##...#..",
  "#..#....##......#....###..####.",
  ".##...#.#....#..#..#....#....#.",
  ".#.##..#..#.........#.#......##",
  "#..#.................#.....#...",
  "..#............#........#...#..",
  "##.##.......#.#....#..#....##.#",
  "..##...#.#.....#......#........",
  "......#.##.........##...#......",
  "......##.#......#.##....##.#..#",
  ".#.#......####.#.#.#.#..#......",
  "..#.#....#...###....#.#...###..",
  ".#.#...#....##..###.#..#.......",
  "..#.....##..#............#..#.#",
  ".#...#....#.....#....#..#.#.#..",
  "..#....#..#......##...##......#",
  "....#.......#.##.#.........#..#",
  "#............#...##.....#..##..",
  "......#..#..........#.#..#.....",
  "...........#.#..#...##.#...#..#",
  ".........###..#......##.###.#..",
  ".....#....#......#...#....##...",
  "..#.......#..#.#.#......#......",
  ".#....#.....#.#.#.##...#....##.",
  "....#.##.##.......#..#.....#...",
  ".#.....#......#.......#..#.....",
  "....###.....##.....##..#.#...#.",
  "#.......#.#....#.#.#....#......",
  "#...#..#.#......#...##.#.......",
  "....##.##....#..#.......#..#.#.",
  ".#.##.#.#..#.....#.#.......##..",
  "..#..#..#..#.###...............",
  "#.#......##....##.#.#.....#.#..",
  "..##...#.........#.#..#.##..#..",
  ".........####...#.....##.#.....",
  "..#...................#.###....",
  "..#.....#..#....#..#...........",
  ".....###.#.........#.#.........",
  "#..#..#........#..#......#..#..",
  "###..##...#.......#........#.#.",
  ".#.#.#.###.#............##.....",
  "#..............#......#....#.##",
  ".#...#..###...###.#..#.#.......",
  ".###....##.#.......#.#.....###.",
  ".##.....#.#....................",
  "#..#.....#.....#...#.....#..##.",
  "#.#....##..#......##..#...##..#",
  "...........#....#..#.##.##....#",
  "......#.......##....#.#....#.#.",
  "###..#.#..........#.......#.#..",
  "..#.#..##....##............##..",
  "..#.....#..#....###............",
  ".#...#...##...#..#..#..#.#....#",
  "...#....#........#.............",
  "#.#......#.#.....##..........#.",
  "....#..#...............#...##..",
  "........#..#....#..#..#..##....",
  "....#......#.#.#...#.......#.##",
  ".#.....#.#.#........###....#...",
  ".#..#.......#...........#...#..",
  "#.#.#####..#......#...#.#.###..",
  "...##...#.#.....#..#...#...#...",
  "..#....#.....#..#....#.#.....#.",
  "....#.......#.....#........###.",
  "..##..........#...###.......#..",
  "#.#.##..#........##...#.#......",
  "....##...#......#..........#.#.",
  "#.......#..#.##.............#..",
  "......#..........#...#....#...#",
  "#.#.....#.##.#.#.............##",
  "#...#.........##.##......#.##..",
  ".........##.....#....#...##..#.",
  "#.#...##.#...#.....##...#..#..#",
  "......##.#.....#.#.....#.##....",
  "....#.............#...#.......#",
  ".#......##...#.#...#.##........",
  "...#..#..#...........#..#..#.#.",
  ".#...#...........#.#.##....#...",
  "..#...#...#.#..#....#..#..#....",
  "..###..##..#..#.........#.#..#.",
  "....#.##.#...#.......#...#.....",
  ".#.#.................#.......#.",
  ".#..#.....#.##...#.#.....#...#.",
  ".#.......#...#....#.......#....",
  "###....##....#..#...#.#..##....",
  ".........#.#.#.#...###.......##",
  "....##.......#......#......##..",
  "......##.###.#..#...#.#.#.#....",
  ".#.###.#.#......#.#.......##...",
  ".#.....##..#.#.....#...#.##....",
  ".#..##.#.....#........###...#.#",
  ".......#.#...........#........#",
  "..........#...##..##.......#.#.",
  "...#..#..#...#....#.#......#.#.",
  "....#...#..#....#....#.#.##....",
  "...#.#...##...#...##..#........",
  "..#........#...##.#...##.#.#.#.",
  "...##.#..#.......###.#.#.#.....",
  "..##......#.#.#.........###.#..",
  ".......#.#...##...#.#.......#.#",
  ".#....##..#..#....#..#...#.....",
  ".#....#.#.......#..#..##.#....#",
  "#.#..##..#.#............#....#.",
  "##..#....#.##.#....#...#..##...",
  ".###.#.#..#...##........###.##.",
  "...........#..#...#..#.#..###..",
  ".#.#.#...#....#...##.##........",
  ".....###.........#......#####..",
  "#.#.#.....#....#..#...#.#.#.#..",
  "..##.....#..#..#.#.#...#....#.#",
  "......#.##..##..#.#.#.......#..",
  "...#.#..###.........#........#.",
  "......#.##..####...#...#..#...#",
  "#.......#.........#....#....###",
  "#......#...#........#.##....###",
  ".#.#..............#...#...###.#",
  ".#....####...#..##.###.....#...",
  ".......#......#..#...#..##.#...",
  "...........#.......#...........",
  "..............#...#.#.#.#...##.",
  ".###.....##.#.....#..........#.",
  "##.##......#....##..#.....###.#",
  "#.......#...##...#....##...#...",
  "##.#.##...#....#....#....#.....",
  ".....####...........#.#......#.",
  "......#...#....#..#......#.....",
  "...#...##..........#.......##.#",
  ".#....#..........#.####........",
  "...##...#..#...##........##..#.",
  ".........##....#...##..#.##.#..",
  "##.#.....#.......#.....#.......",
  "#..#....#.##.#........#........",
  "#.#...#...##........#.#.....###",
  "....#...................#.#.#..",
  ".......#..#.#...#....#.##.#....",
  "....##...###.#.#.##...#...#....",
  ".#....#....#...##.#......#...#.",
  "............##..#.#.#........#.",
  "...#....#.....#......#........#",
  "...#.#.....#.##.....#....#...#.",
  ".....#..##.......#.##.......#.#",
  "........##................#....",
  "....#..###...##.#..#...#......#",
  ".#.#.......#.......#....##.#..#",
  "..#........#............#......",
  "..##.......#..#..#....#....#..#",
  "#...###.......#.##...#.........",
  ".....#...#...#..##..#....#..#..",
  ".##.#..#...##.........###.#....",
  "..#.#..#...#...####.#...#.#.#.#",
  "#....#..###.....#......#.##..##",
  "##......#...##...###......#.##.",
  "...........#.....##...#...#...#",
  "..#..#.#.....#..#.....###...#..",
  ".............#..........###...#",
  "....##............#....###.##.#",
  "..##.#..##.....#.#.........#.#.",
  "....#.#...........####.........",
  ".##.###.##.#.#......#.##.#.#...",
  ".....##.........#..#.......#...",
  "...........#.........#....###..",
  "...#.#..#..........#.....#..#..",
  ".#..###.......##........#.#....",
  ".#...###.....#..#.#..#...#.##..",
  "##...###.#.#....#......#...#..#",
  "....#.......#..#..##..#.#......",
  "#.#......#.##..#......#..#....#",
  "....#..#..#.....#.#......#..#..",
  "..#...###......##.............#",
  "..#....####...##.#...##.#......",
  ".....#.......###...............",
  ".......#...#.#.......#.#.##.###",
  ".#.#...#.....#...##.........#..",
  "..#..........#..#.........##...",
]

# First line doesn't matter
MAP.shift

x_increments = [0.5,1,3,5,7]
counts = []

x_increments.each do |delta_x|
  trees = 0
  x = 0
  MAP.each do |line|
    x += delta_x
    next unless x % 1 == 0
    trees += 1 if (line[x % line.length]) == '#'
  end
  counts << trees
end


puts counts.reduce(:*)
